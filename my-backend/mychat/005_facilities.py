# scripts/005_facilities.py

import os
import sys
import django

BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.append(BASE_DIR)
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "myproject.settings")
django.setup()

from mychat.models import Facility, CampusBuilding

# -------------------------------
# mychat/005_facilities.py
# -------------------------------
print("\n" + "-" * 40)
print("# mychat/005_facilities.py")
print("-" * 40 + "\n")

# ✅ 기존 Facility 데이터 모두 삭제
deleted_count, _ = Facility.objects.all().delete()
print(f"🗑 기존 Facility {deleted_count}개 삭제 완료")

facility_data = [
    # 제1공학관 (G관)
    ("제1공학관", "학생입학처", "행정 시설", "B1층에 위치한 학생 입학 관련 사무실이에요."),
    ("제1공학관", "공용 학습 라운지", "공부 시설", "1층에 위치한 팀 프로젝트와 학습을 위한 공용 공간이에요."),   #추가
    ("제1공학관", "과사무실", "행정 시설", "1층 후문 방향에 학과 사무실이 있어요."),                          #추가
    ("제1공학관", "구름다리", "이동 시설", "3층에서 인문사회과학대학관(N관)과 연결돼요."),
    ("제1공학관", "강의실", "강의 시설", "1층부터 5층까지 공학계열 수업이 열려요."),                          #추가
    ("제1공학관", "연구실", "연구 시설", "4층, 5층에는 교수 연구실이 배치돼 있어요."),                       #추가
    ("제1공학관", "정문 안내 표지판", "편의 시설", "정문에 새 디자인의 안내 표지판이 설치돼 있어요."),          #추가
    ("제1공학관", "후문 자판기", "편의 시설", "정문 쪽과 후문 쪽에 자판기가 있어 간단한 음료를 살 수 있어요."), #추가

    # 인문사회과학대학관 (N관)
    ("인문사회과학대학관", "구름다리", "이동 시설", "3층에서 공학관과 연결되어있어요."),
    ("인문사회과학대학관", "라운지", "휴게 시설", "1층 라운지에서 자유롭게 휴식 및 학습이 가능해요."),
    ("인문사회과학대학관", "휴게공간", "휴게 시설", "각 층에 학생 휴게 공간이 조성되어 있어요."),
    ("인문사회과학대학관", "자유전공학부지원센터(N101)", "행정 시설", "1층 N101호에 위치한 학사지원 공간이에요."),  #추가
    ("인문사회과학대학관", "주차장(1F 외부)", "편의 시설", "1층 외부에 주차장이 있어요."),                       #추가

    # 중앙교수회관 (S관)
    ("중앙교수회관", "카페드림", "카페 시설", "1층 상명 KB STAR SQUARE 내 카페예요."),
    ("중앙교수회관", "스터디룸", "공부 시설", "여러 명이 함께 공부할 수 있는 스터디룸이에요."),
    ("중앙교수회관", "SB 대형강의실", "강의 시설", "지하 1층에 위치한 대형 강의실이에요."),
    ("중앙교수회관", "소강당", "문화 시설", "지하 1층 무대가 설치된 소강당으로 다양한 행사가 열려요."),
    ("중앙교수회관", "버스정류장(인접)", "교통 시설", "캠퍼스 유일 버스정류장과 가장 가까운 건물이에요."),

    # 학술정보관 (L관)
    ("학술정보관", "리딩라운지", "공부 시설", "1층에 위치한 자유롭게 공부할 수 있는 공간이에요."),
    ("학술정보관", "열람실", "공부 시설", "조용히 공부할 수 있는 공간이에요."),
    ("학술정보관", "자료실", "공부 시설", "2~5층의 자료 열람 공간이에요."),
    ("학술정보관", "그룹 스터디룸", "공부 시설", "예약 후 이용 가능한 팀 학습 공간이에요."),
    ("학술정보관", "자하마루", "휴게 시설", "옥상의 정원으로 휴식 및 담소가 가능한 공간이에요."),
    ("학술정보관", "에스컬레이터 연결", "이동 시설", "T관(3F)·L관(4F)과 연결되는 에스컬레이터 통로예요."),
    ("학술정보관", "유료 프린터기", "편의 시설", "B1층으로 내려가는 계단 옆에 2대가 있어요."),                #추가

    # 사범대학관 (A관)
    ("사범대학관", "혁신융합파크", "공부 시설", "B1층에 있어요."),
    ("사범대학관", "편의점", "편의 시설", "B1층에 위치한 편의점이에요."),
    ("사범대학관", "자유공부공간", "공부 시설", "1층에 자유롭게 공부할 수 있는 공간이 마련되어 있어요."),
    ("사범대학관", "교직지원센터", "행정 시설", "3층에 위치한 교직 관련 지원 센터예요."),
    ("사범대학관", "R관 연결 출입구(2F)", "이동 시설", "2층 후문을 통해 R관으로 바로 연결돼요."),
    ("사범대학관", "야외 계단", "이동 시설", "야외 공간에 1층으로 내려가는 계단이 있어요."),

    # 학생회관 (H관)
    ("학생회관", "라운지(센터)", "휴게 시설", "1층 자유 학습 및 휴식을 위한 라운지예요."),
    ("학생회관", "기념품점", "편의 시설", "상명대 굿즈를 판매하는 기념품점이에요."),
    ("학생회관", "배달음식 공간", "휴게 시설", "2층에서 배달 음식을 먹을 수 있는 공용 공간이에요."),
    ("학생회관", "무인 카페", "카페 시설", "2층의 셀프/무인 형태 카페예요."),                                #추가
    ("학생회관", "취업/진로지원팀", "행정 시설", "2층에 위치한 진로·취업 지원 부서예요."),
    ("학생회관", "보건건강관리센터", "행정 시설", "3층에 위치한 보건 관련 지원 공간이에요."),
    ("학생회관", "여학생 휴게실", "휴게 시설", "3층에 위치한 여성 전용 휴식 공간이에요."),
    ("학생회관", "동아리실", "학생 활동 시설", "4층에 여러 중앙동아리의 동아리실이 있어요."),
    ("학생회관", "사슴상", "조형물", "H관 앞 상징 조형물로 행사 장소로도 활용돼요."),
    ("학생회관", "야외 무대", "문화 시설", "사슴상 뒤편의 소규모 야외 공연 공간이에요."),
    ("학생회관", "ATM", "금융 시설", "3층에 KB국민은행 ATM이 있어요."),

    # 경영경제대학관 (T관)
    ("경영경제대학관", "스터디룸", "공부 시설", "T관 1층 내부에 위치한 조용한 스터디룸이에요."),
    ("경영경제대학관", "CLP", "공부 시설", "지하 1층의 협업 학습 공간으로 앱 예약 후 이용해요."),
    ("경영경제대학관", "에스컬레이터", "이동 시설", "B1~3층을 연결하고 L관·T관 사이 이동에 사용해요."),
    ("경영경제대학관", "시청각실", "강의 시설", "대형 강연 및 수업이 가능한 시청각 강의실이에요."),
    ("경영경제대학관", "학술정보관 연결(3F→L관4F)", "이동 시설", "T관 3층에서 L관 4층으로 연결돼요."),
    ("경영경제대학관", "T101", "강의 시설", "영어교육과 전용 강의실이에요."),
    ("경영경제대학관", "T102", "강의 시설", "국어교육과 전용 강의실이에요."),
    ("경영경제대학관", "휴식공간(1F)", "휴게 시설", "1층의 휴식 공간이에요."),                                #추가
    ("경영경제대학관", "휴식공간(5F)", "휴게 시설", "5층의 휴식 공간이에요."),                                #추가

    # 대학본부 (J관)
    ("대학본부", "국제관계센터", "행정 시설", "1층 국제 교류 관련 업무를 담당해요."),
    ("대학본부", "국제학생지원팀", "행정 시설", "1층 국제 학생 지원 업무를 담당해요."),
    ("대학본부", "총무인사팀", "행정 시설", "1층 교직원 인사·총무 업무를 담당해요."),
    ("대학본부", "재무회계팀", "행정 시설", "1층 재무·회계 업무를 담당해요."),
    ("대학본부", "대외교류협력팀", "행정 시설", "1층 대외 협력·교류를 담당해요."),
    ("대학본부", "계당교양교육원교학팀", "행정 시설", "2층 교양교육 운영 관련 부서예요."),
    ("대학본부", "의사소통능력개발센터", "행정 시설", "2층 의사소통 역량 개발 지원을 해요."),
    ("대학본부", "기초교육센터", "행정 시설", "2층 기초교육 지원을 담당해요."),
    ("대학본부", "학사운영팀", "행정 시설", "2층 학사 전반 운영을 담당해요."),
    ("대학본부", "기획예산팀", "행정 시설", "3층 예산 기획을 담당해요."),
    ("대학본부", "전략평가팀", "행정 시설", "3층 대학 전략 수립과 평가를 담당해요."),
    ("대학본부", "홍보팀", "행정 시설", "3층 대내외 홍보를 담당해요."),
    ("대학본부", "교원인사팀", "행정 시설", "4층 교원 인사 관련 업무를 담당해요."),
    ("대학본부", "대학원교학팀", "행정 시설", "4층 대학원 학사 운영을 담당해요."),
    ("대학본부", "법무실", "행정 시설", "4층 법률 자문을 담당해요."),

    # 월해관 (M관)
    ("월해관", "운동장", "체육 시설", "캠퍼스 내 유일한 운동장이며, 상명챔피언스리그 축구 리그가 열려요."),    #추가
    ("월해관", "음악대학 공간", "강의 시설", "음악대학 학생들이 주로 사용하는 강의실 및 연습실이에요."),       #추가
    ("월해관", "문화예술대학 공간", "강의 시설", "문화예술대학 일부 학과가 수업을 진행하는 공간이에요."),      #추가
    ("월해관", "평생교육원", "강의 시설", "평생교육원 학생들이 사용하는 강의 공간이에요."),                  #추가
    ("월해관", "무용연습실", "체육 시설", "5층에 무용예술학과 학생들이 사용하는 연습실이 있어요."),             #추가
    ("월해관", "의류학과 강의실", "강의 시설", "의류학과 학생들이 사용하는 강의실이 있어요."),                 #추가
    ("월해관", "동그란 복도", "이동 시설", "4층 정문으로 나가는 길에 동그란 복도가 있어 I관과 이어져 있어요."),  #추가
    ("월해관", "상명아트센터", "문화 시설", "월해관 옆에 위치한 공연·전시 공간이에요."),                     #추가
    ("월해관", "레슨실", "음악 시설", "지하 1층에 위치한 음악 전공 학생들을 위한 연습실이에요."),
    ("월해관", "학생휴게실", "휴게 시설", "2층에 위치한 편안한 휴게 공간이에요."),

    # 제2교수회관 (I관)
    ("제2교수회관", "교수연구실", "연구 시설", "2층부터 5층까지 교수 연구실이 배치돼 있어요."),               #추가
    ("제2교수회관", "애니이츠월드", "식당 시설", "1층에 식당 '애니이츠월드'가 있어요."),                      #추가
    ("제2교수회관", "ATM", "금융 시설", "주차장과 연결된 입구 쪽에 현금 인출기가 설치돼 있어요."),             #추가
    ("제2교수회관", "주차장 연결 입구", "이동 시설", "주차장에서 제2교수회관으로 바로 연결되는 입구예요."),      #추가
    
    # 미래백년관 (R관)
    ("미래백년관", "학생식당", "식당 시설", "5층에 학생식당이 있습니다."),
    ("미래백년관", "블루포트", "카페 시설", "1층에 블루포트 카페가 있어요."),
    ("미래백년관", "주차장", "편의 시설", "지하에 위치한 주차장이에요."),
    ("미래백년관", "샤워실", "위생 시설", "지하에 위치한 샤워실이에요."),
    ("미래백년관", "갤러리 ‘월해’", "전시 시설", "지하의 전시 공간이에요."),
    ("미래백년관", "박물관 기획전시실", "전시 시설", "지하에 위치한 기획 전시 공간이에요."),
    ("미래백년관", "밀레홀", "문화 시설", "지하에 위치한 행사/공연 공간이에요."),
    ("미래백년관", "오름교육 라운지", "공부 시설", "지하에 위치한 학습·휴게 라운지예요."),
    ("미래백년관", "교육미디어혁신센터", "행정 시설", "1층에 위치한 교육 지원 센터예요."),
    ("미래백년관", "국민은행 ATM기", "금융 시설", "1층에 위치한 KB국민은행 ATM이에요."),               #추가
    ("미래백년관", "우리은행 ATM기", "금융 시설", "4층에 위치한 우리은행 ATM이에요."),                  #추가
]

created_count = 0
building_created_map = {}

for building_name, facility_name, category, description in facility_data:
    try:
        building = CampusBuilding.objects.get(name=building_name)
        Facility.objects.create(
            name=facility_name,
            category=category,
            description=description,
            building=building
        )
        created_count += 1
        building_created_map[building_name] = building_created_map.get(building_name, 0) + 1
    except CampusBuilding.DoesNotExist:
        print(f"❌ 건물 '{building_name}'을(를) 찾을 수 없습니다.")

# ✅ 요약 출력
print("\n📊 건물별 Facility 등록 결과")
for b_name, count in building_created_map.items():
    print(f" - {b_name}: {count} 개 등록")

print(f"\n총 Facility 등록 개수: {created_count}")